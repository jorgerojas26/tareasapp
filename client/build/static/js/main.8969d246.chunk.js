(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(63)},43:function(e,t,a){},46:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),i=(a(43),a(5)),c=a.n(i),l=a(14),u=a(9),d=a(10),m=a(12),p=a(11),h=a(13),f=a(2),b=a(20),g=a(21),v=(a(46),a(71)),E=(a(47),a(33)),y=(n.Component,a(19)),j=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={title:"",responsible:"",description:"",priority:"High"},e.handleInput=e.handleInput.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(y.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addTodo(this.state)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Formulario de Registro de Tareas")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",name:"title",placeholder:"T\xedtulo",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",name:"responsible",placeholder:"Responsible",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",name:"description",placeholder:"Description",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",name:"priority",onChange:this.handleInput},r.a.createElement("option",null,"High"),r.a.createElement("option",null,"Medium"),r.a.createElement("option",null,"Low"))),r.a.createElement("hr",null),r.a.createElement("input",{className:"btn btn-primary form-control",type:"submit",value:"Enviar"}))))))}}]),t}(n.Component),O=a(72),N=a(64),w=a(65),k=a(66),T=a(67),I=a(68),x=a(69),S=a(70),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={_id:a.props.elemToEdit._id,title:a.props.elemToEdit.title,responsible:a.props.elemToEdit.responsible,description:a.props.elemToEdit.description,priority:a.props.elemToEdit.priority},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleInput=a.handleInput.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.update(this.state),this.props.toggle()}},{key:"handleInput",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.name,r=a.value,e.next=3,this.setState(Object(y.a)({},n,r));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.a,{isOpen:this.props.modal,toggle:this.props.toggle,className:this.props.className},r.a.createElement(N.a,{toggle:this.props.toggle},"Modal title"),r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(k.a,null,r.a.createElement(T.a,null,r.a.createElement(I.a,{type:"text",name:"title",placeholder:"Title",defaultValue:this.props.elemToEdit.title,onChange:this.handleInput,required:!0})),r.a.createElement(T.a,null,r.a.createElement(I.a,{type:"text",name:"responsible",placeholder:"Responsible",defaultValue:this.props.elemToEdit.responsible,onChange:this.handleInput,required:!0})),r.a.createElement(T.a,null,r.a.createElement(I.a,{type:"text",name:"description",placeholder:"Description",defaultValue:this.props.elemToEdit.description,onChange:this.handleInput,required:!0})),r.a.createElement(T.a,null,r.a.createElement(I.a,{type:"select",name:"priority",defaultValue:this.props.elemToEdit.priority,onChange:this.handleInput},r.a.createElement("option",null,"High"),r.a.createElement("option",null,"Medium"),r.a.createElement("option",null,"Low")))),r.a.createElement(x.a,null,r.a.createElement(S.a,{type:"submit",color:"primary"},"Edit")," ",r.a.createElement(S.a,{color:"secondary",onClick:this.props.toggle},"Cancel")))))}}]),t}(r.a.Component),L=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={modal:!1,elem:{}},e.toggleEditModal=e.toggleEditModal.bind(Object(f.a)(Object(f.a)(e))),e.updateTodo=e.updateTodo.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"toggleEditModal",value:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(function(e){return{modal:!e.modal,elem:t}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTodo",value:function(e){this.props.update(e)}},{key:"renderModal",value:function(){if(this.state.modal)return r.a.createElement(C,{modal:this.state.modal,toggle:this.toggleEditModal,elemToEdit:this.state.elem,update:this.updateTodo})}},{key:"render",value:function(){var e=this,t=this.renderModal(),a=this.props.state.map(function(t,a){var n;return n="High"===t.priority?r.a.createElement("span",{className:"badge badge-danger"},t.priority):"Medium"===t.priority?r.a.createElement("span",{className:"badge badge-warning"},t.priority):r.a.createElement("span",{className:"badge badge-secondary"},t.priority),r.a.createElement("div",{className:"col-md-4",key:t._id},r.a.createElement("div",{className:"card ml-2 mb-2"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},t.title),n),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,t.description),r.a.createElement("p",null,r.a.createElement("mark",null,t.responsible))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"btn btn-danger m-1",onClick:e.props.remove.bind(e,t._id)},"Delete"),r.a.createElement("button",{className:"btn btn-primary m-1",onClick:function(){return e.toggleEditModal(t)}},"Update")))))});return r.a.createElement("div",{className:"row"},a,t)}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={todos:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"row mt-4 justify-content-center"},r.a.createElement("div",{className:"col-md-4 m-4"},r.a.createElement(j,{addTodo:this.addTodo.bind(this)})),r.a.createElement("div",{className:"col-md-6 m-4"},r.a.createElement(L,{state:this.state.todos,remove:this.removeTodo.bind(this),update:this.updateTodo.bind(this)}))))}},{key:"componentDidMount",value:function(){this.getTaskList()}},{key:"getTaskList",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getTodoList");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,this.setState({todos:a});case 8:this.props.updateTodoListLength(this.state.todos.length);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addTodo",value:function(e){var t=this;fetch("/api/addTodo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){t.getTaskList()}).catch(function(e){console.error(e)})}},{key:"updateTodo",value:function(e){var t=this;fetch("/api/updateTodo/"+e._id,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){t.getTaskList()}).catch(function(e){console.error(e)})}},{key:"removeTodo",value:function(e){var t=this;fetch("/api/removeTodo/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(Object(l.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({todos:t.state.todos.filter(function(t){return t._id!==e})});case 2:t.props.updateTodoListLength(t.state.todos.length);case 3:case"end":return a.stop()}},a)}))).catch(function(e){console.error(e)})}}]),t}(n.Component),q=a(15),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={showTasks:!0,signinInfo:{}},a.handleSignin=a.handleSignin.bind(Object(f.a)(Object(f.a)(a))),a.handleInput=a.handleInput.bind(Object(f.a)(Object(f.a)(a))),a.logout=a.logout.bind(Object(f.a)(Object(f.a)(a))),a.getProfile=a.getProfile.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e="";return e=this.state.showTasks?r.a.createElement("h2",{className:"text-white ml-2"},r.a.createElement("span",{className:"badge badge-light"},this.props.length)):r.a.createElement("h2",{className:"text-white ml-2"},r.a.createElement("span",{className:"badge badge-light"})),this.props.loggedInMode?r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(b.b,{to:"/",onClick:this.showTasks.bind(this)},r.a.createElement("div",{className:"row pl-2"},r.a.createElement("h2",{className:"text-white"},"Tasks: "),e)),r.a.createElement("input",{className:"btn btn-outline-success",type:"button",name:"profile",value:"profile",onClick:this.getProfile}),r.a.createElement(b.b,{to:"/"},r.a.createElement("input",{className:"btn btn-outline-success",type:"button",name:"logout",value:"logout",onClick:this.logout}))):r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(b.b,{to:"/",onClick:this.showTasks.bind(this)},r.a.createElement("div",{className:"row pl-2"},r.a.createElement("h2",{className:"text-white"},"Tasks: "),e)),r.a.createElement("form",{className:"form-inline",onSubmit:this.handleSignin},r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("input",{className:"form-control mr-sm-2",id:"email",name:"email",type:"email",placeholder:"Email",onChange:this.handleInput,required:!0}),r.a.createElement("input",{className:"form-control mr-sm-2",id:"password",name:"password",type:"password",placeholder:"Password",onChange:this.handleInput,required:!0}),r.a.createElement("input",{className:"btn btn-outline-primary",type:"submit",name:"signin",value:"signin"}),r.a.createElement(b.b,{to:"/signup"},r.a.createElement("input",{className:"btn btn-outline-success",type:"button",name:"signup",value:"signup",onClick:this.hideTasks.bind(this)})))))}},{key:"handleSignin",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/signin",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state.signinInfo)});case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).info.success?(this.setState({loggedIn:!0}),this.props.history.push({pathname:"/profile",state:{authenticated:!0}}),this.hideTasks()):this.props.showNotification(n.info.message,"error",2e3);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:200===e.sent.status&&this.setState({loggedIn:!1}),this.showTasks();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState({signinInfo:Object(q.a)({},this.state.signinInfo,Object(y.a)({},a,n))})}},{key:"hideTasks",value:function(){this.setState({showTasks:!1})}},{key:"showTasks",value:function(){this.setState({showTasks:!0})}},{key:"getProfile",value:function(){this.hideTasks(),this.props.history.push({pathname:"/profile"})}}]),t}(n.Component),P=Object(g.f)(D),A=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={fistname:"",lastname:"",email:"",password1:"",password2:"",redirect:!1},e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e.handleInput=e.handleInput.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleSubmit",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(n=e.sent).info.success){e.next=13;break}return e.next=10,this.setState({redirect:!0});case 10:this.props.showNotification(n.info.message,"success",3e3),e.next=14;break;case 13:this.props.showNotification(n.info.message,"error",3e3);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.name,r=a.value,e.next=3,this.setState(Object(y.a)({},n,r));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirect?r.a.createElement(g.a,{to:"/"}):r.a.createElement("div",{className:"SignupForm"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row justify-content-center mt-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Formulario de Registro de Usuarios")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",placeholder:"First name",onChange:this.handleInput,required:!0}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",placeholder:"Last name",onChange:this.handleInput,required:!0})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",id:"email",placeholder:"Email",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"password1",id:"password1",placeholder:"Password",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"password2",id:"password2",placeholder:"Repeat password",onChange:this.handleInput,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"btn btn-primary form-control",type:"submit",value:"Enviar"})))))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={email:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("profileeeeeee"),this.props.loggedIn().then(function(t){t?e.props.setLoggedInMode(!0):(e.props.setLoggedInMode(!1),e.props.history.push({pathname:"/"}))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Profile"))}}]),t}(n.Component),_=Object(g.f)(J),B=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={length:0,alertMessage:"",alertType:"",alertDuration:0,navBarLoggedInMode:!1},e.showNotification=e.showNotification.bind(Object(f.a)(Object(f.a)(e))),e.updateTodoListLength=e.updateTodoListLength.bind(Object(f.a)(Object(f.a)(e))),e.loggedIn=e.loggedIn.bind(Object(f.a)(Object(f.a)(e))),e.setLoggedInMode=e.setLoggedInMode.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this;if(""!==this.state.alertMessage)switch(this.state.alertType){case"warning":e=r.a.createElement(v.a,{color:"warning"},this.state.alertMessage);break;case"error":e=r.a.createElement(v.a,{color:"danger"},this.state.alertMessage);break;default:e=r.a.createElement(v.a,null,this.state.alertMessage)}return r.a.createElement(b.a,null,r.a.createElement(g.d,null,r.a.createElement("div",{className:"App"},r.a.createElement(P,{loggedIn:this.loggedIn,length:this.state.length,showNotification:this.showNotification,loggedInMode:this.state.navBarLoggedInMode}),e,r.a.createElement(g.b,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{updateTodoListLength:t.updateTodoListLength})}}),r.a.createElement(g.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(A,{showNotification:t.showNotification})}}),r.a.createElement(g.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(_,{loggedIn:t.loggedIn,setLoggedInMode:t.setLoggedInMode})}}))))}},{key:"loggedIn",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/authenticated",{credentials:"same-origin"});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.authenticated);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"setLoggedInMode",value:function(e){this.setState({navBarLoggedInMode:e})}},{key:"updateTodoListLength",value:function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({length:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"showNotification",value:function(){var e=Object(l.a)(c.a.mark(function e(t,a,n){var r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({alertMessage:t,alertType:a});case 2:window.setTimeout(function(){r.setState({alertMessage:""})},n);case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.8969d246.chunk.js.map